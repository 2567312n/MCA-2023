<html>
<head>MCA-2023</head>
<body>
<style>
body {background-color: LavenderBlush;}
h1   {color: LightCoral;}
h2   {color: Salmon;}
p    {color: MediumPurple;}
</style>
      
<h1 id="Week1">Goldberg Variations:BWV 988 Aria</h1>
<h2 style="border: 2px solid DodgerBlue;">Week 1</h2>
<nav>
    <ol>
      <li><a href="#Week1">Week1</a></li>
      <li><a href="#Week2">Week2</a></li>
      <li><a href="#Week3">Week3</a></li>
      <li><a href="#Week4">Week4</a></li>
      <li><a href="#Week5">Week5</a></li>
      <li><a href="#Week7">Week7</a></li>
      <li><a href="#Week8">Week8</a></li>
      <li><a href="#Week9">Week9</a></li>
      <li><a href="#Week10">Week10</a></li>

<p>Challenges found within music related data would include the differences between audio recordings and the score, therefore metadata may vary due to differing musicians as well as interpretations of the score.
These challenges are evident in my chosen piece 'Goldberg Variations BWV988 Aria' by J.S Bach. However, due to the compositions dating, I use the Glenn Gould recording which already deviates from the original metadata. Gould performs the piece mathematically to better show Bach's composition style, however this still will ultimately most likely differ from Bachs original intent. This intent is lost to time; all interpretation of the score is speculative.</p>

<h2 id="Week2" style="border: 2px solid DodgerBlue;">Week 2</h2>
<nav>
    <ol>
      <li><a href="#Week1">Week1</a></li>
      <li><a href="#Week2">Week2</a></li>
      <li><a href="#Week3">Week3</a></li>
      <li><a href="#Week4">Week4</a></li>
      <li><a href="#Week5">Week5</a></li>
      <li><a href="#Week7">Week7</a></li>
      <li><a href="#Week8">Week8</a></li>
      <li><a href="#Week9">Week9</a></li>
      <li><a href="#Week10">Week10</a></li>


<p>The next stage of analysis that followed was importing the scores PDF into MuseScore to better understand each section of the music and provide insight into how software, such as MuseScore, develops a PDF into musical data that can altered and further understood by way of musicxml and mei files. Importing PDF's into MuseScore, on a base level, is effective. However ,the quality of the import vastly differs between scores. Any score with a cover page, or reference text above/below the manuscript is commonly an issue when attempting to achieve any sort of competent recreation  Using the aforementioned Goldberg Variation Aria PDF (a digitally recreated score), MuseScore effectively recognised basic details such as Key, Time Signature and Tempo as well as most of the notes such as strong beat notes with the correct rhythms. MuseScore struggled with many quicker notes, starting at 1/16th notes as well as ornament’s such as a recurring issue with mordents which could change the character of the piece without their inclusion. The area which required most development was the way the music was structured and how the original was presented. The original uses a piano stave with multiple crossing voices and MuseScore struggled to recognise a second/third voice in the bass clef frequently. The second voice was more common due to the third being mostly underutilised throughout the piece, confusing the software with uneven note rhythm when compared with the time signature. This fault mainly resides with the original's structuring and the import done well to keep the correct time signature regardless. Overall, it was a competent import with minor changes needed (at least when compared with alternate pieces which I used as a test, as they where completely unrecognisable or had an incomplete import due to their complexity). 
.</p>

<h3>Original Aria Score</h3>
<img src="originalGV.pdf" alt="Original Aria Score" width="600" height="700">

<h3>Imported Aria Score(Unedited)</h3>
<img src="importedGV.pdf" alt="Imported Aria Score(unedited)" width="700" height="800">

<h3>Imported Aria Score(Edited)</h3>
<img src="MCA_GoldbergVariations.pdf" alt="Imported Aria Score(edited)" width="700" height="800">


<h2 id="Week3" style="border: 2px solid DodgerBlue;">Week 3</h2>
<nav>
    <ol>
      <li><a href="#Week1">Week1</a></li>
      <li><a href="#Week2">Week2</a></li>
      <li><a href="#Week3">Week3</a></li>
      <li><a href="#Week4">Week4</a></li>
      <li><a href="#Week5">Week5</a></li>
      <li><a href="#Week7">Week7</a></li>
      <li><a href="#Week8">Week8</a></li>
      <li><a href="#Week9">Week9</a></li>
      <li><a href="#Week10">Week10</a></li>


<p>I exported the score into a musicxml file and then opened this in Mei-Friend (then downloading the code as an mei file to include into the GitHub repository data folder). Within MEI, pitch is represented by 'pname=x' ('x' being the note name) and 'oct=x' ('x 'being that notes numerical octave positioning) Rhythm/Duration is detailed by 'dur=x' ('x' being the numerical name for the given note (i.e. dur=8 is a quaver/eighth note)). An MEI file displays all data contained within the score. This information being listed in its entirety removes the user-friendly interface found within software such as MuseScore. This makes it more difficult to operate when composing music. However, MEI allows the user to see and edit every aspect of the file and with basic understanding of the code; allows the user to learn exactly what every note’s pitch and numerical rhythm duration/ octave placement without having to understand how the music is notated on the stave.</p>

    <title>My Piece in Verovio</title>
    <style>
    html, body {
        width: 100%;
        height: 100%;
        margin: 0;
    }
    .header {
        padding: 20px;
        height:80px;
    }
    #app {
        height: 1000px;
        width: 100%;

    }
    </style>
</head>
<body>
    <div id="app">Verovio is loading...</div>
    <script type="module">
        import 'https://www.verovio.org/javascript/app/verovio-app.js';
        
        const options = {
            defaultView: 'responsive', // default is 'responsive', alternative is 'document'
            defaultZoom: 3, // 0-7, default is 4
            enableResponsive: true, // default is true
            enableDocument: true // default is true
        }
        
        // A MusicXML file
        var file = 'MCA_GoldbergVariations.mei';
        // A MEI file
        //var file = 'https://www.verovio.org/editor/brahms.mei';
        
        const app = new Verovio.App(document.getElementById("app"), options);
        fetch(file)
            .then(function(response) {
                return response.text();
            })
            .then(function(text) {
                app.loadData(text);
            });
    </script>

<h2 id="Week4" style="border: 2px solid DodgerBlue;">Week 4</h2>
<nav>
    <ol>
      <li><a href="#Week1">Week1</a></li>
      <li><a href="#Week2">Week2</a></li>
      <li><a href="#Week3">Week3</a></li>
      <li><a href="#Week4">Week4</a></li>
      <li><a href="#Week5">Week5</a></li>
      <li><a href="#Week7">Week7</a></li>
      <li><a href="#Week8">Week8</a></li>
      <li><a href="#Week9">Week9</a></li>
      <li><a href="#Week10">Week10</a></li>


<p>Using Music21 - Jupyter Notebook, I was able to develop various alternative visualistions of the Goldberg Variations score. The core data accoumulated stemmed from a Histogram, Piano Roll of pitches and a Scatter Plot graph.</p>

<h3>Histogram</h3>
<img src="MCA_GoldbergVariations Histogram Music21.png" alt="MCA_GoldbergVariations Histogram Music21" width="700" height="800">


<p>The Histogram informs on the frequency of pitches in their octave placement, helping to display the harmonic heights and depths the piece primarily resides within.</p>

<h3>Piano Roll of Pitches</h3>
<img src="MCA_GoldbergVariations Piano Roll of Pitches Music21.png" alt="MCA_GoldbergVariations Piano Roll of Pitches Music21" width="700" height="800">


<p>The Piano Roll of Pitches similarly displays notes. However, this graph focuses less on the octave placement but the individual pitches (regardless of octave) in their prescribed measures.</p>

<h3>Scatter Plot</h3>
<img src="MCA_GoldbergVariations Scatter Plot Music21.png" alt="MMCA_GoldbergVariations Scatter Plot Music21" width="700" height="800">


<p>The Scatter Plot allows us to see the duration of these notes to better understand their prominence within the piece.
These all assist in understanding the harmony of the Goldberg Variations Aria. Furthermore, the key becomes visualised as well as Bach tendency to 'lean' on certain intervals within the key.</p>

<h2 id="Week5" style="border: 2px solid DodgerBlue;">Week 5</h2>
<nav>
    <ol>
      <li><a href="#Week1">Week1</a></li>
      <li><a href="#Week2">Week2</a></li>
      <li><a href="#Week3">Week3</a></li>
      <li><a href="#Week4">Week4</a></li>
      <li><a href="#Week5">Week5</a></li>
      <li><a href="#Week7">Week7</a></li>
      <li><a href="#Week8">Week8</a></li>
      <li><a href="#Week9">Week9</a></li>
      <li><a href="#Week10">Week10</a></li>


<p>Incorporating added metadata into the schema allows for the score to present needed information about the piece. 
Dictating what is necessary information for the listener presents a need for understanding the demographic. 
Between the Group Lab and Individual Lab there was a clear difference between necessary information for audio recordings of the piece compared to score metadata.
Audio recordings require the composer AND the performer(s) names, instruments as well as recording length, period of release and copyright information on that recording.
Score data is similar yet requires less performance indication. Recording length is less important due to the option for orchestrated changes such as tempo and therefore changes of tempo throughout the piece indicated by the player, orchestrator. 
Key is already present within the score.
The performer(s) are not needed in the metadata of the score as the period of release of the score (the classical genre being of significance also) as since the release there have been thousands of changes to the performer since being composed by Bach.
Therefore Johann Sebastian Bach is of utmost significance to the score information being the composer and original performer of the piece while the following performers are of little importance other than the audio recordings.
Instrumentation is still important to the score. Usually being prescribed as Piano. However, it being an Aria, the instrumentation is still up to the performers choice.
It is also important to note who the score was encoded by. Due to the score being scanned in from pdf into mscv there was changes to be made to the score because of complications in exportation. Therefore, the person that corrected these changes has to be noted as responsible.</p>

<h2 id="Week7" style="border: 2px solid DodgerBlue;">Week 7</h2>
<nav>
    <ol>
      <li><a href="#Week1">Week1</a></li>
      <li><a href="#Week2">Week2</a></li>
      <li><a href="#Week3">Week3</a></li>
      <li><a href="#Week4">Week4</a></li>
      <li><a href="#Week5">Week5</a></li>
      <li><a href="#Week7">Week7</a></li>
      <li><a href="#Week8">Week8</a></li>
      <li><a href="#Week9">Week9</a></li>
      <li><a href="#Week10">Week10</a></li>


<p>I had to dictate what metadata would be important for the score. The series is noteworthy due to the sheer mass of compositions Bach created and this assists place its period of compostion. I listed the style as 'Aria' to demonstrate this is a solo piece. For further use of the score the copyright information is necessary; luckily the Goldberg Variations are Public Domain thanks to the non-profit 'Open Goldberg Variations'.</p>


<head>
  <title>My Piece</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="css/myMeta.css" media="all" />
  <link rel="stylesheet" href="css/style.css" media="all" />
  <script src="js/CETEI.js"></script>
</head>
<body>
  <h2>Goldberg Variations</h2>
  <h3>Series</h3>
  <p>BWV 988</p>
  <h3>Part Name</h3>
  <p>Aria</p>
  <h3>Composer</h3>
  <p>Johann Sebastian Bach</p>
  <h3>Encoded By</h3>
  <p>Ciaran Newton</p>
  <h3>Genre</h3>
  <p>Classical</p>
  <h3>Copyright Ownership</h3>
  <p>Open Goldberg Variations</p>
  <a href="https://2567312n.github.io/MCA-2023/metaRAW.html">If Verovio Doesn't Appear Click Here</a>
  <div id="MEImeta"></div>
  <div id="app">Verovio is loading...</div>
  <script type="module">
      import 'https://www.verovio.org/javascript/app/verovio-app.js';
      const options = {
          defaultView: 'responsive', // default is 'responsive', alternative is 'document'
          defaultZoom: 3, // 0-7, default is 4
          enableResponsive: true, // default is true
          enableDocument: true // default is true
      }
      // A MusicXML file
      var file = 'MCA_GoldbergVariations.mei';
      // A MEI file
      //var file = 'https://www.verovio.org/editor/brahms.mei';
      const app = new Verovio.App(document.getElementById("app"), options);
      fetch(file)
          .then(function(response) {
              return response.text();
          })
          .then(function(text) {
              app.loadData(text);
          });
  </script>
  <script>
    // Get, parse, and show TEI data
    var CETEIcean = new CETEI()
    CETEIcean.getHTML5("data/example.xml", function(data) {
      document.getElementById("TEI").appendChild(data)
    })
    // Get, parse and show MEI header data
    var CETEI4MEI = new CETEI()
    CETEI4MEI.addBehaviors({
      namespaces: {
        mei: "http://www.music-encoding.org/ns/mei"
      }
    })
    CETEI4MEI.getHTML5("MCA_GoldbergVariations.mei", function(data) {
      // get header
      var meiHead = data.querySelector('mei-meiHead')
      document.getElementById("MEImeta").appendChild(meiHead)
    })
    var vrvToolkit = new verovio.toolkit()
    vrvToolkit.setOptions(options = {
        pageHeight: 500,
        pageWidth: 1000,
        ignoreLayout: 1,
        border: 20,
        scale: 50,
        adjustPageHeight: true
    })
    fetch("MCA_GoldbergVariations.mei").then(function( response ) {
        response.text().then(function( data ) {
          var svg = vrvToolkit.renderData(data, {})
          document.getElementById('MEI').innerHTML = svg
        })
    })
  </script>
</body>
<footer><p>Score rendering provided by <a href="http://www.verovio.org">Verovio</a>. Metadata rendered by <a href="https://github.com/TEIC/CETEIcean/"> CETEIcean</a>.</p></footer>




<h2 id="Week8" style="border: 2px solid DodgerBlue;">Week 8</h2>
<nav>
    <ol>
      <li><a href="#Week1">Week1</a></li>
      <li><a href="#Week2">Week2</a></li>
      <li><a href="#Week3">Week3</a></li>
      <li><a href="#Week4">Week4</a></li>
      <li><a href="#Week5">Week5</a></li>
      <li><a href="#Week7">Week7</a></li>
      <li><a href="#Week8">Week8</a></li>
      <li><a href="#Week9">Week9</a></li>
      <li><a href="#Week10">Week10</a></li>

<img src="MCA week 9 metadata copy.‎1.png" alt="Meta Table" width="600" height="400">

<p>Time-frequency analysis provides more useful analytical data than waveform analysis. A waveform displays the amplitude against time, showing the bigger moments by way of waves that deviate further from the centre. Time-frequency visualisations such as the Spectrogram used display frequency against time as a heat map; the denser areas of the spectrogram show the bigger moments in the piece. This is more effective as we can see where these bigger moments on the frequency range. The denser areas show if the piece is generally lower or if it builds to a high frequency at these bigger moments. Although we can’t extract exact pitches from the spectrogram we get a general overview of the pieces frequency range, whether it be lower/higher, and how it changes over time.</p>

<h2 id="Week9" style="border: 2px solid DodgerBlue;">Week 9</h2>
<nav>
    <ol>
      <li><a href="#Week1">Week1</a></li>
      <li><a href="#Week2">Week2</a></li>
      <li><a href="#Week3">Week3</a></li>
      <li><a href="#Week4">Week4</a></li>
      <li><a href="#Week5">Week5</a></li>
      <li><a href="#Week7">Week7</a></li>
      <li><a href="#Week8">Week8</a></li>
      <li><a href="#Week9">Week9</a></li>
      <li><a href="#Week10">Week10</a></li>


<p>After using Jupyter Notebook to retrieve Historgrams of my 3 tracks Chromagrams, I noticed very slight difference between them. While Olafsson and Lang Lang appear to be almost exactly the same, Gould's varies but only very slightly. Gould performs with a more striking force to the keys as well as added grace notes that the other 2 choose not to include though generally the 3 are very similar. The extra notes answer for the slight deviation though as i hinted, the similarity between the songs is evident from the Histograms alone and one would be able to come to the conclusion they were covers of the same score.</p>

<h3>Glenn Gould Histogram</h3>
<img src="GGVHisto.png" alt="Glenn Gould Histogram" width="700" height="800">

<h3>Lang Lang Histogram</h3>
<img src="LLChromaHisto.png" alt="Lang Lang Histogram" width="700" height="800">

<h3>Vikingur Olafsson Histogram</h3>
<img src="VOGVHisto.png" alt="Olafsson Histogram" width="700" height="800">


<h2 id="Week10" style="border: 2px solid DodgerBlue;">Week 10</h2>
<nav>
    <ol>
      <li><a href="#Week1">Week1</a></li>
      <li><a href="#Week2">Week2</a></li>
      <li><a href="#Week3">Week3</a></li>
      <li><a href="#Week4">Week4</a></li>
      <li><a href="#Week5">Week5</a></li>
      <li><a href="#Week7">Week7</a></li>
      <li><a href="#Week8">Week8</a></li>
      <li><a href="#Week9">Week9</a></li>
      <li><a href="#Week10">Week10</a></li>


<h3>Similarity Matrix</h3>
<img src="similarity matrix.png" alt="similarity matrix" width="460" height="345">

<h3>Polyphonic Transcription</h3>
<img src="MCA_GoldbergVariationsPolyTrans.pdf" alt="Polyphonic Transcription" width="700" height="800">


<p>Using a WAV file generated from the MIDI file of the Goldberg Variations score I created a Polyphonic Transcription of said WAV file to see how accurate the transcription is compared to scanning in the pdf from week 2. This export of MIDI from WAV is wildly different from the original score. While getting some notes correctly, the time signature, key signature, tempo and most of the rhythms as well as notes are incorrect. It reflects the test pdf's I imported into MuseScore in week 2. Those tests were of scanned in manuscript while the one I used for Bach's piece was arranged in similar software to MuseScore. The manuscript usually had inconsistent lighting and hand written markings which MuseScore struggled with and displayed the same issues as the Polyphonic Transcription from WAV. This shows the WAV file is read as unclear and possibly the left hand melody moving with the right hand bass confuses MuseScore as extra beats in the bar and notes with unclear pitches leading the software to assume too much of the score.</p>



</body>
</html>